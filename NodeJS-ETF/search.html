<!DOCTYPE html>
<html lang="en">

<head>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,default-src">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



</head>

<body>

    <div>
        <form class="d-flex" role="search">
            <input class="form-control me-2 " type="search" placeholder="Search" aria-label="Search" id="search"
                value="">


            <select id="selection" class="form-select" aria-label="Default select example">
                <option selected> select the category</option>
                <option value="1">MID</option>
                <option value="2">Title</option>
                <option value="3">Year</option>
                <option value="4">Runtime</option>
                <option value="5">Genre</option>
                <option value="6">Director</option>
                <option value="7">Actors</option>
            </select>
        </form>
        <button class="btn btn-outline-success " onclick="checkSearch()" type="submit">Search</button>
    </div>
    <div id="movieData">

    </div>


    <Script>
        function checkSearch() {
            var searchData = document.getElementById("search").value;

            var options = document.getElementById("selection").value;
            let fetchRes;
            switch (options) {
                case "1":

                    // var url = "http://127.0.0.1:9000/api/mid/";


                    fetchRes = fetch("http://127.0.0.1:9000/api/mid/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)

                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;


                        })



                    break;
                case "2":
                    fetchRes = fetch("http://127.0.0.1:9000/api/title/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)

                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;


                        })

                    break;
                case "3":
                    fetchRes = fetch("http://127.0.0.1:9000/api/year/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)
                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;

                        })

                    break;
                case "4":
                    fetchRes = fetch("http://127.0.0.1:9000/api/gener/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)
                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;


                        })

                    break;


                case "5":
                    fetchRes = fetch("http://127.0.0.1:9000/api/gener/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)

                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;

                        })

                    break;
                case "6":
                    fetchRes = fetch("http://127.0.0.1:9000/api/director/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)

                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;


                        })

                    break;
                case "7":
                    fetchRes = fetch("http://127.0.0.1:9000/api/actor/" + searchData);
                    fetchRes.then(res =>
                        res.json()).then(d => {
                            console.log(d)
                            var text = "<div style='display:flex'>";

                            let start = "<div class='container' id=''><div class='container'><div class='row'><div class='column'></div><div class='card container-fluid' style='width: 18rem;'><div class='card-body'><ul class='list-group list-group-flush'><li class='list-group-item' > ";

                            let middle = "</li><li class='list-group-item'>";

                            let end = "</li></ul></div></div></div></div></div>";
                            for (var i = 0; d.response.length > i; i++) {
                                //document.getElementById("div1").innerHTML += d.response[i].MID;

                                text += start + 'MID :' + d.response[i].MID + middle + 'Title :' + d.response[i].Title + middle + 'Genre :' + d.response[i].Gener + middle + 'Year :' + d.response[i].Year + middle + 'Director :' + d.response[i].Director + middle + 'Actor :' + d.response[i].Actor + middle + 'Runtime :' + d.response[i].Runtime + middle + 'Metascore :' + d.response[i].Metascore + middle + 'IMDB Rating :' + d.response[i].imdbRating + end;

                            }
                            text += "</div>";
                            document.getElementById("movieData").innerHTML = text;

                        })

                    break;
                default:
                // document.write("movieData").innerHTML="heheheh";



            }

        }


    </Script>
    <div id="showData">

    </div>

</body>

</html>